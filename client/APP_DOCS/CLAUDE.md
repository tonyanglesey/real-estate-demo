# LeadFlow RE — Project Brief for Claude

## Project Overview

**LeadFlow RE** is a portfolio demo application built to showcase full-stack development skills aligned with a property management SaaS platform role. It simulates an AI-powered lead pipeline tool for property managers and real estate professionals.

This is a working proof-of-concept, not a mockup. Real stack, real queries, real AI responses — seeded with realistic mock data.

---

## Goal

Demonstrate senior full-stack capability across:
- React + Tailwind + ShadCN frontend
- Node.js (Express) REST API backend
- PostgreSQL database with migrations and seed data
- Claude AI integration (lead scoring + response drafting)
- Clean architecture, documented code, and deployment-ready structure

---

## Tech Stack

| Layer | Technology |
|---|---|
| Frontend | React.js, TailwindCSS, ShadCN UI |
| Backend | Node.js, Express |
| Database | PostgreSQL |
| AI | Anthropic Claude API |
| Infrastructure | Local dev → AWS (stretch goal) |
| Language | JavaScript (no TypeScript) |

---

## Core Features

### 1. Lead Pipeline Dashboard
- Kanban-style or table view of all leads
- Filter by status: `new`, `contacted`, `qualified`, `lost`, `closed`
- Sort by AI score, date, budget

### 2. AI Lead Scoring
- Each lead scored 1–100 by Claude based on:
  - Budget range
  - Timeline urgency
  - Property type interest
  - Inquiry message tone/intent
- Score displayed as a badge on each lead card

### 3. AI Response Drafting
- Click any lead → view full detail panel
- Button: "Draft Follow-Up" → Claude generates a professional, personalized outreach email
- Editable before sending (UI only, no actual email sending needed)

### 4. Lead Detail View
- Full lead info: name, contact, inquiry message, property interest, budget, timeline, status, AI score
- Activity log (static/seeded is fine)
- Status update dropdown

---

## Database Schema

### `leads` table

```sql
CREATE TABLE leads (
  id SERIAL PRIMARY KEY,
  name VARCHAR(100),
  email VARCHAR(100),
  phone VARCHAR(20),
  inquiry_message TEXT,
  property_type VARCHAR(50),   -- 'single-family', 'multi-unit', 'commercial', 'condo'
  budget_min INTEGER,
  budget_max INTEGER,
  timeline VARCHAR(50),        -- 'immediate', '1-3 months', '3-6 months', '6+ months'
  status VARCHAR(50) DEFAULT 'new',  -- 'new', 'contacted', 'qualified', 'lost', 'closed'
  ai_score INTEGER,            -- 1-100, generated by Claude
  ai_draft TEXT,               -- Claude-generated follow-up email
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
```

### Seed Data
- 25–30 realistic leads with varied statuses, budgets, timelines, and inquiry messages
- Mix of warm, cold, and qualified leads to make the dashboard feel live

---

## Project Structure

```
leadflow-re/
├── client/                  # React frontend
│   ├── src/
│   │   ├── components/      # ShadCN + custom components
│   │   ├── pages/           # Dashboard, LeadDetail
│   │   ├── hooks/           # useLeads, useAI
│   │   ├── lib/             # API helpers, utils
│   │   └── App.jsx
│   ├── tailwind.config.js
│   └── package.json
│
├── server/                  # Express backend
│   ├── routes/              # leads.js, ai.js
│   ├── controllers/         # leadsController.js, aiController.js
│   ├── db/
│   │   ├── index.js         # pg pool connection
│   │   ├── migrations/      # SQL migration files
│   │   └── seed.js          # Mock data seed script
│   ├── services/
│   │   └── claude.js        # Anthropic API integration
│   ├── index.js             # Express app entry
│   └── package.json
│
├── .env.example
├── README.md
└── CLAUDE.md                # This file
```

---

## API Routes

| Method | Endpoint | Description |
|---|---|---|
| GET | `/api/leads` | Get all leads (with filters) |
| GET | `/api/leads/:id` | Get single lead |
| POST | `/api/leads` | Create new lead |
| PATCH | `/api/leads/:id` | Update lead status |
| POST | `/api/leads/:id/score` | Trigger AI scoring for a lead |
| POST | `/api/leads/:id/draft` | Generate AI follow-up draft |

---

## AI Integration (Claude)

### Lead Scoring Prompt Pattern
```
Given this real estate lead inquiry, score the lead from 1-100 based on:
- Budget clarity and range
- Timeline urgency
- Seriousness of inquiry
- Property type specificity

Return a JSON object: { score: number, reasoning: string }

Lead data: [inject lead object]
```

### Follow-Up Draft Prompt Pattern
```
You are a professional property management consultant.
Write a warm, professional follow-up email for this lead.
Be specific to their inquiry. Keep it under 200 words.

Lead data: [inject lead object]
```

---

## Environment Variables

```env
# Server
PORT=5000
DATABASE_URL=postgresql://localhost:5432/leadflow_re

# Anthropic
ANTHROPIC_API_KEY=your_key_here
```

---

## Build Order

1. Project scaffolding — folder structure, package.json files, env setup
2. PostgreSQL — schema migration + seed script
3. Express API — db connection, routes, controllers
4. Claude service — scoring + draft generation
5. React frontend — layout, dashboard, ShadCN components
6. Lead detail panel — AI score display + draft button
7. Polish — loading states, error handling, responsive layout
8. README — setup instructions, screenshots, architecture notes

---

## Notes for Claude

- Use JavaScript, not TypeScript
- Tailwind for all styling — no inline styles, no CSS modules
- ShadCN components where appropriate (Card, Badge, Button, Dialog, Select)
- Keep components small and focused — single responsibility
- Express routes should be thin — logic lives in controllers and services
- All AI calls go through `server/services/claude.js` — centralized, not scattered
- Seed script should be runnable with `node server/db/seed.js`
- Prioritize working code over perfect code — this is a demo, ship it clean but fast
